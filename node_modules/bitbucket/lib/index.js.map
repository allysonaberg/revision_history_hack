{"version":3,"file":"index.js","sources":["../src/endpoint/defaults.ts","../src/utils/lower-case-header-fields.ts","../src/endpoint/merge.ts","../src/endpoint/utils/add-query-parameters.ts","../src/endpoint/utils/extract-url-variable-names.ts","../src/endpoint/parse.ts","../src/endpoint/index.ts","../src/endpoint/with-defaults.ts","../src/endpoint/endpoint-with-defaults.ts","../src/error/index.ts","../src/request/fetch-wrapper.ts","../src/request/index.ts","../src/request/with-defaults.ts","../src/client/get-endpoint-options.ts","../src/client/utils/pick.ts","../src/client/factory.ts","../src/client/constructor.ts","../src/client/register-plugins.ts","../src/client/index.ts","../src/plugins/pagination/get-page.ts","../src/index.ts","../src/plugins/notice/index.ts","../src/plugins/auth/index.ts","../src/plugins/auth/validate-options.ts","../src/plugins/auth/before-request.ts","../src/plugins/pagination/index.ts","../src/plugins/register-endpoints/index.ts","../src/plugins/register-endpoints/register-endpoints.ts","../src/plugins/register-api-endpoints/index.ts","../src/plugins/validate-request/index.ts","../src/plugins/validate-request/validate.ts"],"sourcesContent":null,"names":["DEFAULTS","method","baseUrl","headers","accept","lowerCaseHeaderFields","Object","keys","reduce","newHeaders","key","toLowerCase","merge","endpointDefaults","endpointRoute","endpointOptions","split","url","assign","deepmerge","all","filter","Boolean","isMergeableObject","isPlainObject","addQueryParameters","params","separator","test","names","length","map","name","q","encodeURIComponent","join","urlVariableRegex","removeNonChars","variableNameMatch","replace","contentType","formData","urlEncoded","json","parse","accepts","_method","_url","request","toUpperCase","urlVariableNames","matches","match","a","b","concat","extractUrlVariableNames","urlTemplate","expand","body","bodyParams","includes","_body","remainingParams","bodyIsFormData","constructor","paramName","append","substring","JSON","stringify","endpoint","withDefaults","oldDefaults","newDefaults","bind","defaults","HTTPError","message","statusCode","options","Error","captureStackTrace","_this","error","status","getData","response","get","text","arrayBuffer","fetchWrapper","requestOptions","responseStatus","responseUrl","responseHeaders","fetch","nodeFetch","then","field","value","statusText","data","oldEndpoint","endpointParams","hook","getEndpointOptions","clientOptions","requestHook","object","newObject","factory","plugins","Bitbucket","Singular","client","forEach","plugin","oldPlugins","newPlugins","slice","push","Client","getPage","direction","responseData","Plugins","_client","notice","console","log","auth","username","password","validateOptions","state","before","token","hash","btoa","hasNextPage","next","getNextPage","hasPreviousPage","previous","getPreviousPage","registerEndpoints","routes","namespaceName","endpointName","endpointObject","alias","namespaceAlias","apiAlias","validate","deprecated","ROUTES","param","expectedType","type","valueIsPresent","required","unparsedValue","parseInt","isNaN"],"mappings":"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"}